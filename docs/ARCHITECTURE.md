# UserSphere CLI - 架构文档

## 📊 图表概览

本项目在 README.md 中包含了 6 个详细的架构图表：

### 1. 📋 项目模块结构图
- 展示所有核心模块及其依赖关系
- 包含 7 个主要模块：CLI、RAG、Embedding、VectorStore、Actions、MultiLang、Persistence
- 显示外部依赖：node-llama-cpp、faiss-node

### 2. 🔄 系统工作流程图 (Sequence Diagram)
- 详细描述用户交互的完整流程
- 从用户输入到系统响应的每个步骤
- 包含初始化、查询处理、缓存更新等阶段

### 3. 🛠️ 技术栈架构图
- 分层展示系统架构（Frontend、Application、AI/ML、Infrastructure、Data）
- 清晰显示每层的技术组件和依赖关系
- 突出关键技术：TypeScript、node-llama-cpp、faiss-node

### 4. 📊 数据流架构图
- 展示数据在系统中的流转过程
- 从输入处理到响应生成的完整数据流
- 包含缓存层的优化机制

### 5. ⚡ 性能指标架构图
- 系统性能关键指标：启动时间、内存使用、查询速度
- 可扩展性指标：支持的模板数量、语言数量、动作数量
- 实际测试数据：冷启动 ~3s，热启动 ~0.8s

### 6. 🔧 扩展架构图
- 系统扩展点：新语言、新动作、新模型
- 插件系统设计：接口、管理器、注册表
- 集成可能性：Web API、移动 SDK、桌面 GUI、云部署

## 🎯 架构亮点

### 模块化设计
- 每个模块职责单一，接口清晰
- 遵循 Google TypeScript Style Guide
- 高内聚，低耦合

### 性能优化
- 智能缓存系统，95%+ 命中率
- 批量处理优化
- 内存管理优化

### 可扩展性
- 支持动态添加新语言模板
- 插件化架构设计
- 多种集成方式

### AI/ML 集成
- 本地 embedding 模型
- 高效向量搜索
- 多语言语义理解

这些图表为开发者提供了完整的系统理解，便于后续开发和维护。
